{
    "analysis": {
        "filter": {
            "url_protocol": {
                "type": "url",
                "part": "protocol"
            },
            "url_host": {
                "type": "url",
                "part": "host"
            },
            "url_port": {
                "type": "url",
                "part": "port"
            },
            "url_query": {
                "type": "url",
                "part": "query",
                "url_decode": true
            }
        },
        "analyzer": {
            "url_protocol": {
                "filter": [
                    "url_protocol"
                ],
                "tokenizer": "whitespace"
            },
            "url_host": {
                "filter": [
                    "url_host"
                ],
                "tokenizer": "whitespace"
            },
            "url_port": {
                "filter": [
                    "url_port"
                ],
                "tokenizer": "whitespace"
            },
            "url_query": {
                "filter": [
                    "url_query"
                ],
                "tokenizer": "whitespace"
            }
        }
    }
}